#!/bin/bash

ORANGE='\e[0;33m'
LIGHT_CYAN='\e[1;36m'

NC='\e[0;m'


echo_cmd(){
	echo -e "\t${ORANGE}$1${NC}"
}
echo_debug(){
  if [ "$2" = "-d" ]; then
	  echo -e "${LIGHT_CYAN}$1${NC}"
	fi
}


echo_help(){
    echo "commande :"
    echo_cmd "run test"
    echo_cmd "run start"
    echo_cmd "run main"
    echo_cmd '[CMD] -d #pour le débug'
}

cd ~/Documents/robot_compagnon/
#update git
echo_debug "git pull" $2
sudo git pull

if [ $# > 1 ]; then
  if [ "$1" = "test" ]; then
    cd Code
    echo_debug "python3 Code/test.py" $2
    #python3 test.py 2> test.log
    python3 test.py
    cd ..
    echo_debug "bash script.sh" $2
    sudo bash script.sh
    echo_debug "Graphe généré dans $outputFile" $2
    echo "Graphe généré dans $outputFile"
    gpicview $outputFile &
  elif [ "$1" = "start" ]; then
    cd Code
    echo_debug "python3 Code/main.py" $2
    python3 main.py
    cd ..
  elif [ "$1" = "main" ]; then
    echo "i'm running, make run start for the real main"
    gpicview ~/Documents/robot_compagnon/graphe2.png &

  else
    echo_help
  fi
else
  echo_help
fi

